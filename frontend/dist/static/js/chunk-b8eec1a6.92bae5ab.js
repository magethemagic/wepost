(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b8eec1a6"],{"301a":function(t,e,o){"use strict";var r=o("5f26"),a=o.n(r);a.a},"4a39":function(t,e,o){"use strict";o.r(e);var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"user-profile "},[o("div",{staticClass:"container"},[o("b-jumbotron",{staticClass:"text-left mb-3 h-user rounded",style:"background-image:url('"+t.userinfo.avatar+"') ",attrs:{lead:t.userinfo.follower_count+"Follower    "+t.userinfo.followed_count+"Following"},scopedSlots:t._u([{key:"header",fn:function(){return[o("div",[o("p",[t._v(t._s(t.userinfo.username))]),o("div",{staticClass:"d-flex"},[o("b-avatar",{staticClass:"mr-3",attrs:{src:t.userinfo.avatar,size:"4rem"}}),o("p",[t._v(t._s(t.userinfo.desc))])],1)])]},proxy:!0}])},[o("b-button",{staticClass:"ml-auto pl-5 pr-5",attrs:{variant:"Follow"===t.followinfo?"primary":""},on:{click:function(e){return e.preventDefault(),t.followUser(e)}}},[t._v(t._s(t.followinfo)+" ")])],1),o("b-row",[o("b-col",{staticClass:"col col-xl-3 order-xl-2 col-lg-6 order-lg-2 col-md-6 col-sm-6 col-12"},[o("p",[t._v("相似的用户：")])]),o("b-col",{staticClass:"col col-xl-8 order-xl-1 col-lg-12 order-lg-1 col-md-12 col-sm-12 col-12"},[o("user-post",{attrs:{params:t.params}})],1)],1)],1)])},a=[],s=o("b53b"),i=o("f8c8"),l={name:"UserProfile",components:{"user-post":s["a"]},data:function(){return{params:{},userinfo:{},followinfo:"Follow"}},created:function(){this.params={uid:this.$route.query.uid},this.getUserProfile(this.$route.query.uid),this.getFollowstatus(this.$route.query.uid)},methods:{getUserProfile:function(t){var e=this;i["a"].getUserDetail({uid:t}).then((function(t){e.userinfo=t.data})).catch((function(t){alert(t.data)}))},getFollowstatus:function(t){var e=this;this.$axios.get("profile/"+t+"/isfollow").then((function(t){console.log(t.data),1===t.data.code?e.followinfo="Unfollow":-1===t.data.code?e.followinfo="Follow":e.userinfo=""}))},followUser:function(){var t=this.$route.query.uid,e=this,o=new FormData;o.append("action",this.followinfo.toLowerCase()),this.$axios.post("profile/"+t+"/follow",o).then((function(t){e.userinfo.follower_count=t.data.followers_count,"Follow"===e.followinfo?e.followinfo="Unfollow":e.followinfo="Follow"}))}}},n=l,c=(o("301a"),o("2877")),u=Object(c["a"])(n,r,a,!1,null,"df786246",null);e["default"]=u.exports},"5f26":function(t,e,o){},b53b:function(t,e,o){"use strict";var r=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"base-list"},[t.articleList.length>0?o("div",[o("transition-group",{attrs:{appear:"",tag:"ul"}},t._l(t.articleList,(function(t){return o("post-list",{key:t.id,attrs:{article:t}})})),1),o("b-button",{staticClass:"infinite-scroll",attrs:{variant:"primary",disabled:!t.required},on:{click:t.loadArticle}},[o("b-spinner",{directives:[{name:"show",rawName:"v-show",value:t.required,expression:"required"}],attrs:{type:"border",small:""}}),o("span",{staticClass:"infinite-scroll-text"},[t._v(t._s(t.tips))])],1)],1):o("div",[o("p",[t._v("Nothing here")])])])},a=[],s=(o("99af"),o("96cf"),o("1da1")),i=o("f783"),l=o("f8c8"),n={name:"BaseArticleList",components:{"post-list":i["a"]},props:["params"],data:function(){return{page:1,required:!0,tips:"点我加载更多",articleList:[]}},created:function(){this.loadArticle()},methods:{loadArticle:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var o,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t,r=t.params,r.page=t.page,e.next=5,l["a"].getArticleList(r).then((function(t){t.data.next||(o.required=!1,o.tips="没有更多了!"),o.articleList=o.articleList.concat(t.data.results),o.page+=1}),(function(t){404===t.status?(o.required=!1,o.tips="没有更多了!"):alert(t.data.detail)}));case 5:case"end":return e.stop()}}),e)})))()}}},c=n,u=o("2877"),f=Object(u["a"])(c,r,a,!1,null,"69440fe4",null);e["a"]=f.exports}}]);
//# sourceMappingURL=chunk-b8eec1a6.92bae5ab.js.map